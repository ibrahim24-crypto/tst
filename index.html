<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Himo App Store</title>
    <style>
        /* Votre style existant ici */
        /* Ajout pour le tableau admin */
        .admin-table {
            width: 90%;
            margin: 20px auto;
            border-collapse: collapse;
        }

        .admin-table th, .admin-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .admin-table th {
            background-color: #0f9d58;
            color: white;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>Bienvenue !</h1>
        <button class="menu-btn" onclick="openMenu()">☰</button>
    </div>

    <div id="side-menu" class="menu">
        <a href="javascript:void(0)" class="close-btn" onclick="closeMenu()">×</a>
        <a href="a-propos.html">À propos</a>
        <a href="confidentialite.html">Confidentialité</a>
        <a href="mes-applis.html">Mes applis</a>
        <a href="help.html">Aide</a>
        <a href="javascript:void(0)" onclick="verifyAdmin()">Admin</a>
    </div>

    <div class="search-container">
        <input type="text" id="search-input" placeholder="Recherchez une application..." oninput="filterApps()">
        <button onclick="searchApp()">Rechercher</button>
    </div>

    <footer>
        <p>&copy; 2024 Himo App Store - Tous droits réservés.</p>
    </footer>

<script>
    const sheetdbURL = "https://sheetdb.io/api/v1/sr5ru43f18uf0";

    // Enregistrement des données des visiteurs
    function trackVisitor() {
        const isRevisitor = localStorage.getItem("hasVisited");
        const data = {
            visitor: isRevisitor ? "revisitor" : "visitor",
            date: new Date().toISOString()
        };

        fetch(sheetdbURL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ data })
        }).then(() => {
            if (!isRevisitor) localStorage.setItem("hasVisited", "true");
        });
    }

    // Suivi des clics sur les boutons
    function trackButtonClick(buttonName) {
        const data = {
            visitor: localStorage.getItem("hasVisited") ? "revisitor" : "visitor",
            button: buttonName,
            date: new Date().toISOString()
        };

        fetch(sheetdbURL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ data })
        });
    }

    // Suivi des recherches
    function trackSearch(content) {
        const data = {
            visitor: localStorage.getItem("hasVisited") ? "revisitor" : "visitor",
            search: content,
            date: new Date().toISOString()
        };

        fetch(sheetdbURL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ data })
        });
    }

    function searchApp() {
        const input = document.getElementById("search-input").value.toLowerCase();
        trackSearch(input); // Suivi de la recherche

        // Logique de recherche existante
        // ...
    }

    function verifyAdmin() {
        const code = prompt("Entrez le code d'accès pour Admin :");
        if (code === "4285") {
            window.location.href = "admin.html";
        } else {
            alert("Code incorrect.");
        }
    }

    // Suivi des visiteurs au chargement de la page
    window.onload = trackVisitor;
</script>
</body>
</html>
